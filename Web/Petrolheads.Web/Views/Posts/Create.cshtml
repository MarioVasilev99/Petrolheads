@model Petrolheads.Web.ViewModels.Posts.CreatePostInputModel;
@{
    ViewData["Title"] = "Create Post";
}

<div class="container">
    <div class="row header-nav">
        <div class="col">
            <h1 class="text-center font-weight-lighter">Create post</h1>
        </div>
    </div>

    <div class="row">

        <div class="col">

            <form enctype="multipart/form-data" asp-controller="Posts" asp-action="Create" method="Post">

                <div class="form-group">
                    <label asp-for="Description">Description</label>
                    <textarea type="text" class="form-control" asp-for="Description" name="Description" id="descriptionInput" placeholder="Post Description..."></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <img src="" class="post-add-image" id="post-img" />
                    <label class="add-post-img-label btn btn-primary m-0" asp-for="Images">Add Images+</label>
                    <input asp-for="Images" type="file" name="Images" multiple class="post-img-input" onchange="loadFile(event)" />
                </div>

                <div>
                    <button type="submit" class="btn btn-primary">Publish Post</button>
                </div>

            </form>

        </div>

    </div>
</div>

@section scripts {
    <script>

        var loadFile = function (event) {
            var image = document.getElementById('post-img');
            image.src = URL.createObjectURL(event.target.files[0]);
            image.style.display = "block";
        };

    </script>
}